# python-project-2025
Бот-напоминалка для заучивания иностранных слов

Бот, который будет сразу писать сообщение со словом для которого надо вспомнить перевод в телеграмме, в котором мы проводим большое количество времени. Периодичность повторов слов и "навязчивость" бота можно настраивать индивидуально.

# **1.Взаимодействия нашей системы**
<img src="image1">

**Описание частей проекта:**

Infrastructure:  
**main.py:** точка входа в приложение: запуск бота и Services, подключение БД, инициализация маршрутизации команд  
**i/o операции:** обработка взаимодействия с внешними системами (отправка и получение сообщений, чтение и запись в БД)  
**docker:** сборка/упаковка всех компонентов проекта, также создает одинаковую среду для запуска (одна версия питон, все необходимые библиотеки)  
   
Services:  
**parser:** разбирает входящие сообщения пользователя (команды, текстовые сообщения), классифицирует по типу, преобразует и передает данные в виде структур   
**notification:** отвечает за отправку уведомлений пользователю (подбирает нужное для отправки слово, формирует сообщение, отправляет пользователю)
**scheduler:** выполняет фоновые задачи по расписанию (обновляет статистику, вызывает сервис уведомлений, запускает алгоритм интервальных повторений)  
**database:** сервис управления подключением к БД и асинхронной работы с данными через репозитории, отвечает за создание подключения, выполнение запросов, транзакции и передачу данных моделям домена

Commands:  
**start():** первичная настройка бота, т.е. приветственное сообщение с инструкцией по использованию бота, начальные настройки времени отправки напоминаний  
**info():** просмотр текущего состояния (отображение настроек)  
**add(word, translation):** добавление новых слов в словарь (пара слово-перевод) \+ проверка, что введенные данные соответствуют нужному формату по языку (возможно, автоматически переводит в нижний регистр, если введено не в таком формате), присваивание начальной ML-сложности слова, вывод сообщения об успешном добавлении слова  
**stats():** вывод статистики прогресса обучения (% выученных слов от всего количества в словаре), вывод количества выученных слов за последнюю неделю/месяц 

Models:  
**User:**  
**\- Назначение**: представляет пользователя Telegram, хранит его настройки, прогресс и действия.​  
**\-  Поля**:  
user\_id (int): уникальный идентификатор Telegram  
username (str): имя пользователя  
settings (dict): индивидуальные параметры рассылки   
progress (dict): базовые метрики изучения, взаимодействия  
words\_added (list): персональный словарь  
last\_active (datetime): время последней активности  
stats (Stat): объект статистики пользователя  
ml\_profile (dict): расширенные фичи и параметры для ML-рекомендаций, анализируемые моделью  
**\- Методы**:  
add\_word(word): добавить новое слово в личный словарь пользователя  
update\_last\_active(dt): обновить таймстамп активности  
get\_info(): вернуть справку и персональные настройки пользователя для команды /info  
get\_stats(): вернуть основные метрики изучения для команды /stats  
update\_ml\_profile(data): обновить профиль для ML-модели  
**Word**:  
**\- Назначение**: хранит изучаемое слово, связь с пользователем, историю взаимодействий для ML-обработки.  
**\- Поля**:  
id (int): уникальный идентификатор  
user\_id (int): хозяин слова  
text (str): исходное слово  
translation (str): правильный перевод  
next\_repeat (datetime): время повторить  
repeat\_count (int): количество повторений  
created\_at (datetime): добавлено когда  
difficulty (float): оценка сложности (ML)  
ml\_score (float): предсказанная вероятность успешного ответа  
history (list): логи ответов и ошибок для ML  
**\- Методы**:  
check\_translation(answer): проверить перевод  
update\_repeat(): на основании ML-предсказания обновить повтор и лог  
get\_info(): собрать инфо о слове  
schedule\_next\_repeat(days): индивидуальное расписание  
is\_due(): проверить, пора ли повторять  
predict\_next\_repeat(ml\_model): запросить ML-модель для даты следующего повтора  
update\_ml\_features(data): добавить данные в историю для обучения  
**Checker**:  
**\- Назначение**: проводит акт проверки ответа пользователя, использует ML для оценки качества и рекомендации будущих повторений.​  
**\- Поля**:  
user (User): текущий пользователь  
word (Word): проверяемое слово  
answer (str): перевод от пользователя  
ml\_features (dict): параметры для оценки через ML  
ml\_result (dict): результат предсказания ML (например, "сделать повтор через 2 дня")  
**\- Методы**:  
check(): сверить ответ  
get\_feedback(): вывести подсказку и ML-рекомендацию  
evaluate\_with\_ml(ml\_model): отправить данные для предсказания и получить рекомендации  
**Stats**:  
**\- Назначение**: агрегирует статистику пользователя, используется ML для анализа прогресса и формирования индивидуальных отчётов и расписания повторов.​  
**\-   Поля**:  
user\_id (int): идентификатор  
learned\_words (int): сколько изучено  
success\_rate (float): процент верных  
activity\_log (list): история событий  
histogram\_data (dict): данные для графиков  
ml\_stats (dict): результаты ML-анализа обучения и эффективности  
**\- Методы**:  
update(word, result): добавить событие, обновить логи  
get\_statistics(): собрать метрики, включая ML  
get\_histogram(): данные для визуализации  
update\_ml\_stats(ml\_model): агрегировать и хранить результаты ML-оценки

# **2\. Описание проекта** 

1. ### **Что будет видеть пользователь?**

После запуска /start пользователь получает приветственное сообщение, инструкцию по использованию бота и предложение настроить время уведомлений. Далее пользователю будут доступны 3 команды: /info (отображение текущих настроек, периодичность уведомлений), /add (добавление новой пары «слово \+ перевод»), /stats (вывод статистики прогресса по изучению слов). После добавления слов и настройки частоты получения уведомлений пользователь будет получать сообщения от бота с заданной периодичностью.
<img src="image2">

1. ### **Какие задачи необходимо выполнить и сколько времени потребуется на каждую**

* Проектирование моделей User, Word, Stats, Checker: 3-4 дня  
* Создание структуры сервиса и модулей: 1 день  
* Реализация database: 3-4 дня  
* Настройка scheduler: 2-3 дня  
* Команды: /start, /info, /stats, /add: 2-3 дня  
* Парсинг сообщений: 3 дня  
* Логика проверки ответов: 2-3 дня  
* Генерация ответов пользователю: 1 день  
* Алгоритм интервалов повторения: 4-5 дней  
* Тестирование: 2-3 дня  
* Проверка/слияние PR: 1 день

2. ### **Кто что делает в команде**

**TL:**

* Проектирование моделей User, Word, Stats, Checker  
* Создание структуры сервиса и модулей  
* Код-ревью, проверка/слияние PR

**Developer 1:**

* Команды: /start, /info, /stats  
* Обработка ошибок ввода  
* Генерация ответов пользователю  
* Тестирование команд

**Developer 2:**

* Команда /add  
* Логика проверки ответов  
* ML-фичи, simple ML-модель  
* Алгоритм интервалов повторения

**Developer 3:**

* Настройка scheduler  
* Реализация database, репозитории  
* Парсинг сообщений  
* Отправка мотивационных уведомлений
